From fa4b2f37e73d6764343f6d4aadf91c453bd07310 Mon Sep 17 00:00:00 2001
From: Maxime Duchene <maxime.duchene@outlook.fr>
Date: Sat, 19 May 2018 00:26:18 +0200
Subject: [PATCH] add-imu-to-dts

---
 arch/arm/boot/dts/bcm2709-rpi-2-b.dts | 31 +++++++++++++++++++++++++++++++
 1 file changed, 31 insertions(+)

diff --git a/arch/arm/boot/dts/bcm2709-rpi-2-b.dts b/arch/arm/boot/dts/bcm2709-rpi-2-b.dts
index 76d44a2..52a668f 100644
--- a/arch/arm/boot/dts/bcm2709-rpi-2-b.dts
+++ b/arch/arm/boot/dts/bcm2709-rpi-2-b.dts
@@ -73,6 +73,37 @@
 	pinctrl-names = "default";
 	pinctrl-0 = <&i2c1_pins>;
 	clock-frequency = <100000>;
+	mpu9250@68 {
+		compatible = "inven,mpu9250";
+		reg = <0x68>;
+		//interrupt-parent = <&gpio2>;
+		//interrupts = <9>;
+		int_config  = <0x10>;
+		level_shifter = <0>;
+		axis_map_x = <0>;
+		axis_map_y = <1>;
+		axis_map_z = <2>;
+		negate_x = <0>;
+		negate_y = <0>;
+		negate_z = <0>;
+		inven,secondary_type = "compass";
+		inven,secondary_name = "ak8963";
+		inven,secondary_reg = <0x0c>;
+		inven,secondary_axis_map_x = <0>;
+		inven,secondary_axis_map_y = <1>;
+		inven,secondary_axis_map_z = <2>;
+		inven,secondary_negate_x = <0>;
+		inven,secondary_negate_y = <0>;
+		inven,secondary_negate_z = <0>;
+		inven,aux_type = "pressure";
+		inven,aux_name = "bmp280";
+		inven,aux_reg = <0x76>;
+	};
+	bmp280@76{
+		compatible = "bmp280";
+		reg = <0x76>;
+	};
+	
 };
 
 &i2c2 {
-- 
2.7.4

